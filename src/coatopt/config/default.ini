[General]
root_dir = "./"
data_dir = "./data"
load_model = False
load_model_path = "root"
materials_file = "default"
continue_training = False

[Data]
n_layers = 8
min_thickness = 1e-10
max_thickness = 300e-9
use_observation = True
reward_shape = "none"
thermal_reward_shape = "none"
use_intermediate_reward = False
ignore_air_option = False
ignore_substrate_option = False
optimise_parameters = ["reflectivity", "thermal_noise", "absorption"]
optimise_targets = {"reflectivity":1.0, "thermal_noise":1e-21, "absorption":0.01}
design_criteria = {"reflectivity":0.99999, "thermal_noise":5.394480540642821e-21, "absorption":0.01}
use_ligo_reward = False
include_random_rare_state = False
reward_function="default"

[Network]
model_type = "hppo"
hyper_networks = False
include_layer_number = True
include_material_in_policy = False
pre_network_type = "lstm"
hidden_size = 32
n_pre_layers = 2

n_value_layers = 2
n_continuous_layers = 2
n_discrete_layers = 2
continuous_hidden_size = 16
discrete_hidden_size = 16
value_hidden_size = 16

buffer_size = 10000

[Training]
n_iterations = 8000
lr_discrete_policy = 0.0001
lr_continuous_policy = 0.0001
lr_value = 0.001
n_episodes_per_update = 256
n_epochs_per_update = 5
clip_ratio = 0.01
gamma = 0.999
batch_size = 256
optimiser = "adam"
device = "cuda:0"
model_save_interval = 10

entropy_beta_start=1.0
entropy_beta_end=0.001
entropy_beta_decay_length=None
entropy_beta_decay_start=0

scheduler_start = 0
scheduler_end = -1
lr_step = 5000
lr_min = 1e-5
t_mult = 2

n_init_solutions = 1000

final_weight_epoch = 1
start_weight_alpha = 1.0
final_weight_alpha = 1.0
cycle_weights="smooth"
n_weight_cycles=1
weight_network_save = False

[MCMC]
n_walkers = 32
n_steps = 1000

[Genetic]
algorithm="ngsa2"
population_size = 100
crossover_probability = 0.1
thickness_sigma = 1e-9
n_generations = 1000
crossover_eta = 20
mutation_probability = 0.1
mutation_eta = 20
eliminate_duplicates = True
n_neighbors = None  # For MOEAD
prob_neighbor_mating = None  # For MOEAD
n_partitions = None  # For NSGA3/MOEAD reference directions
seed = 1234

[MCTS]
n_simulations = 1000
c_puct = 1.4
use_policy_priors = True
eval_interval = 10  # Evaluate with MCTS every N training epochs
max_layers_override = None  # Override max layers for MCTS (None = use Data.n_layers)
available_materials = None  # Subset of materials to use (None = all except air)

